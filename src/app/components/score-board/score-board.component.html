<div class="d-flex flex-row">
    <div class="scoreboard-scorerows d-flex flex-column col-2">
        <div class="scoreboard-title scoreboard-header">Scoreboard</div>
        <div class="scoreboard-header" *ngFor="let scoreHeading of scoreBoardHeaders">
            {{scoreHeading}}
        </div>
    </div>
    
    <div class="col-2 d-flex flex-column" *ngFor="let Player of players">
        <div class="scoreboard-title scoreboard-player-header text-truncate">{{Player.name}}</div>
        
        <div *ngIf="Player.currentPlayer === true && Player.socketId === this.clientPlayer.socketId">
            <div class="scoreboard-points d-flex justify-content-between" *ngFor="let scoreRow of Player.score.scoreBoard; index as i">
                {{scoreRow.score}}
                <span *ngIf="scoreRow.selectable === true && this.diceHit === true && this.possibleScores[i] > 0" style="color:green">+{{this.possibleScores[i]}}</span>
                <button *ngIf="scoreRow.selectable === true" type="button" class="btn scoreboard-btn bi bi-plus" (click)="this.setScore(scoreRow.name)"></button>
            </div>
        </div>

        <div *ngIf="Player.currentPlayer === false && Player.socketId === this.clientPlayer.socketId">
            <div class="scoreboard-not-current-player scoreboard-points d-flex justify-content-between" *ngFor="let scoreRow of Player.score.scoreBoard">
                {{scoreRow.score}}
                <button *ngIf="scoreRow.selectable === true" type="button" class="btn scoreboard-btn bi bi-plus" (click)="this.setScore(scoreRow.name)"></button>
            </div>
        </div>

        <div *ngIf="Player.currentPlayer === true && Player.socketId !== this.clientPlayer.socketId">
            <div class="scoreboard-points d-flex justify-content-between" *ngFor="let scoreRow of Player.score.scoreBoard; index as i">
                {{scoreRow.score}}
                <span *ngIf="scoreRow.selectable === true && this.diceHit === true && this.possibleScores[i] > 0" style="color:green">+{{this.possibleScores[i]}}</span>
            </div>
        </div>
        <div *ngIf="Player.currentPlayer === false && Player.socketId !== this.clientPlayer.socketId">
            <div class="scoreboard-not-current-player scoreboard-points d-flex justify-content-between" *ngFor="let scoreRow of Player.score.scoreBoard">
                {{scoreRow.score}}
            </div>
        </div>

    </div>
</div>

<ng-template #content let-modal>
    <div *ngIf="this.players.length >=2">
        <div class="modal-header">
            <h4 class="modal-title">Result</h4>
            <button type="button" class="btn-close" aria-label="Close" (click)="closeModalAndReset()"></button>
        </div>
        <div class="modal-body">
            <p class="text-center" *ngFor="let Player of this.players; index as i">{{i+1}}. {{Player.name}} - {{Player.score.total.score}}</p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-ligt" (click)="closeModalAndReset()">Close</button>
        </div>
    </div>
    <div *ngIf="this.players.length === 1">
        <div class="modal-header">
            <h4 class="modal-title">Result</h4>
            <button type="button" class="btn-close" aria-label="Close" (click)="closeModalAndReset()"></button>
        </div>
        <div class="modal-body">
            <p class="text-center">You got {{this.players[0].score.total.score}} points!!! </p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-ligt" (click)="closeModalAndReset()">Close</button>
        </div>
    </div>
</ng-template>

